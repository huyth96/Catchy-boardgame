<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Catchy - Product Feedback</title>
  <link rel="icon" type="image/png" href="assets/images/branding/fav.png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="styles/main.css"/>
  <style>
    :root{
      --order-panel-bg:linear-gradient(160deg,rgba(32,22,74,.9),rgba(20,14,50,.82));
      --order-panel-border:rgba(124,108,220,.38);
    }
    .order-wrap{position:relative;color:#fdfbff;}
    .order-aurora{
      position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.55;filter:blur(6px);
      background:
        radial-gradient(60% 40% at 16% 16%,rgba(108,71,255,.18),transparent 60%),
        radial-gradient(45% 35% at 84% 18%,rgba(255,199,0,.16),transparent 60%),
        radial-gradient(55% 40% at 72% 78%,rgba(143,92,255,.2),transparent 60%);
      mix-blend-mode:screen;
    }
    .order-container{
      position:relative;z-index:1;max-width:1100px;margin:0 auto;padding:var(--s-5) var(--s-3);
      display:flex;flex-direction:column;gap:var(--s-4);
    }
    .order-hero{
      display:grid;grid-template-columns:1.1fr .9fr;gap:var(--s-3);align-items:center;
    }
    .order-hero h1{
      font-family:'Orbitron',system-ui,sans-serif;
      font-size:clamp(2.4rem,2.6vw + 1.6rem,3.4rem);
      line-height:1.15;margin:0;color:#fff;text-shadow:0 16px 40px rgba(6,0,38,.45);
    }
    .order-hero p{color:rgba(244,242,255,.86);line-height:1.7;margin:1rem 0 0;font-size:var(--fs-400);}
    .order-hero .order-badges{display:flex;flex-wrap:wrap;gap:.6rem;margin-top:var(--s-2);}
    .order-hero .badge{
      display:inline-flex;align-items:center;gap:.5rem;padding:.6rem .9rem;border-radius:999px;
      background:linear-gradient(180deg,#ffffffdd,#ffffffc8);border:1px solid #efeaff;color:#1e0a47;font-weight:800;
    }
    .order-price{
      margin-top:1.1rem;
      display:flex;flex-direction:column;gap:.25rem;padding:.75rem 1.1rem .85rem;border-radius:18px;
      background:linear-gradient(140deg,rgba(255,212,96,.18),rgba(255,162,0,.08));
      border:1px solid rgba(255,205,96,.35);box-shadow:0 18px 38px rgba(255,204,87,.18);
      backdrop-filter:blur(8px);max-width:min(100%,360px);
    }
    .order-price .amount{
      font-size:clamp(1.8rem,2.2vw,2.25rem);font-weight:900;color:#ffd86b;letter-spacing:.01em;
      display:flex;align-items:center;gap:.35rem;flex-wrap:nowrap;
    }
    .order-price .amount-prefix{
      font-size:1.02rem;font-weight:800;color:rgba(255,255,255,.82);letter-spacing:.06em;
      text-transform:uppercase;
    }
    .order-price .amount-value{
      display:inline-block;white-space:nowrap;animation:orderPricePulse 2.8s ease-in-out infinite;
      transform-origin:center;text-shadow:0 12px 28px rgba(255,210,96,.35);
    }
    .order-price .tagline{
      font-size:.97rem;font-weight:700;color:rgba(255,255,255,.85);line-height:1.35;white-space:nowrap;
    }
    .order-hero .illustration{justify-self:end;position:relative;}
    .order-hero .illustration::after{
      content:"";position:absolute;inset:auto 18% -10% 18%;height:36px;border-radius:50%;
      background:radial-gradient(circle,rgba(0,0,0,.35),transparent 70%);filter:blur(18px);opacity:.6;
    }
    .order-hero img{
      width:min(420px,36vw);max-width:100%;border-radius:24px;
      filter:drop-shadow(0 16px 44px rgba(136,59,255,.32));animation:orderFloat 6.4s ease-in-out infinite;
    }
    @keyframes orderFloat{
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-16px)}
    }
    @keyframes orderPricePulse{
      0%,100%{
        transform:scale(1);
        color:#ffd86b;
        text-shadow:0 12px 28px rgba(255,210,96,.35);
      }
      50%{
        transform:scale(1.08);
        color:#ffe69a;
        text-shadow:0 16px 36px rgba(255,226,150,.48);
      }
    }
    .section{position:relative;background:#fff;border:1px solid #efeaff;border-radius:22px;box-shadow:0 14px 40px rgba(108,71,255,.12);overflow:hidden;}
    .glow-section{
      background:var(--order-panel-bg);border-color:var(--order-panel-border);
      box-shadow:0 32px 70px rgba(10,5,45,.42),inset 0 0 0 1px rgba(255,255,255,.08);
      backdrop-filter:blur(28px);color:rgba(246,243,255,.9);
    }
    .glow-section p{color:rgba(242,239,255,.85);}
    .section-head{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:18px 22px;background:linear-gradient(90deg,rgba(247,245,255,.2),rgba(255,255,255,.2));}
    .section-head h3{margin:0;font-size:1.28rem;font-weight:900;color:#1e0a47;}
    .section-head small{color:#5b5599;font-weight:600;letter-spacing:.04em;text-transform:uppercase;}
    .section-body{padding:26px;}
    .order-form-section .section-body{
      display:grid;gap:var(--s-3);background:linear-gradient(160deg,#ffffff,rgba(244,240,255,.95));
    }
    .order-form{display:grid;gap:var(--s-3);}
    .form-grid{
      display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--s-2);
    }
    .form-field{display:flex;flex-direction:column;gap:.55rem;}
    .honeypot-field{
      position:absolute;width:1px;height:1px;margin:-1px;padding:0;border:0;overflow:hidden;
      clip:rect(0,0,0,0);clip-path:inset(50%);white-space:nowrap;
    }
    .form-field label{font-weight:800;color:#2b2468;display:flex;align-items:center;gap:.5rem;}
    .form-field label .optional{font-size:.85rem;font-weight:600;color:#8077c5;}
    .form-field input{
      border:1px solid #e6e1ff;border-radius:18px;padding:14px 16px;
      font-size:1rem;background:linear-gradient(180deg,#fff,#f8f6ff);
      box-shadow:0 10px 24px rgba(108,71,255,.08);color:#261a63;
      transition:border-color .22s ease,box-shadow .22s ease;
    }
    .form-field input:focus{
      outline:none;border-color:rgba(108,71,255,.85);
      box-shadow:0 0 0 4px rgba(108,71,255,.18),0 14px 32px rgba(108,71,255,.18);
    }
    .form-field input::placeholder{color:#9a94c8;}
    .form-field textarea{
      border:1px solid #e6e1ff;border-radius:18px;padding:14px 16px;resize:vertical;min-height:140px;
      font-family:inherit;font-size:1rem;background:linear-gradient(180deg,#fff,#f8f6ff);color:#261a63;
      box-shadow:0 10px 24px rgba(108,71,255,.08);transition:border-color .22s ease,box-shadow .22s ease;
    }
    .form-field textarea:focus{
      outline:none;border-color:rgba(108,71,255,.85);
      box-shadow:0 0 0 4px rgba(108,71,255,.18),0 14px 32px rgba(108,71,255,.18);
    }
    .form-note{margin:0;color:#6f69aa;font-size:.95rem;line-height:1.6;}
    .form-caption{margin:.8rem 0 0;font-size:.92rem;color:#6f69aa;}
    .form-actions{display:flex;flex-wrap:wrap;gap:var(--s-2);justify-content:flex-end;align-items:center;}
    .order-submit{
      border:none;border-radius:18px;padding:.95rem 1.8rem;font-weight:900;letter-spacing:.04em;font-size:1.02rem;
      color:#fff;cursor:pointer;transition:transform .22s ease,box-shadow .22s ease;
      background:linear-gradient(120deg,#6c47ff,#8f5cff);box-shadow:0 16px 38px rgba(108,71,255,.24);
    }
    .order-submit:hover{transform:translateY(-2px);box-shadow:0 20px 48px rgba(108,71,255,.28);}
    .order-submit:active{transform:translateY(0);box-shadow:0 12px 28px rgba(108,71,255,.24);}
    .form-alert{
      display:none;border-radius:18px;padding:1rem 1.2rem;font-weight:600;
      border:1px solid rgba(118,210,162,.45);background:linear-gradient(135deg,rgba(223,255,238,.92),rgba(206,255,229,.9));
      color:#14663f;box-shadow:0 12px 28px rgba(30,160,110,.18);
    }
    .form-alert.error{
      border-color:rgba(238,120,120,.6);background:linear-gradient(135deg,rgba(255,232,232,.95),rgba(255,214,214,.92));
      color:#7f1f1f;box-shadow:0 12px 28px rgba(200,70,70,.18);
    }
    .form-alert.show{display:block;}
    .rating-highlight{gap:.6rem;}
    .rating-field{display:flex;flex-direction:column;gap:.5rem;}
    .rating-stars{
      display:inline-flex;align-items:center;gap:.35rem;flex-wrap:wrap;
    }
    .rating-stars button{
      width:48px;height:48px;border-radius:16px;border:1px solid rgba(255,255,255,.3);
      background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.25),rgba(255,255,255,0));
      color:#c5bdf5;font-size:1.6rem;cursor:pointer;
      display:inline-flex;align-items:center;justify-content:center;
      transition:transform .2s ease,box-shadow .2s ease,color .2s ease;
    }
    .rating-stars button.active{
      color:#ffd86b;border-color:rgba(255,216,107,.6);
      box-shadow:0 12px 26px rgba(255,216,107,.25);
    }
    .rating-stars button.preview{color:#ffeab1;}
    .rating-stars button:focus-visible{
      outline:2px solid rgba(255,216,107,.7);outline-offset:3px;
    }
    .rating-stars button:hover{
      transform:translateY(-2px);
    }
    .rating-hint{margin:0;font-size:.9rem;color:#7b73b1;}
    .feedback-wall{display:flex;flex-direction:column;gap:var(--s-3);}
    .feedback-summary{
      display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:var(--s-3);
      padding:1.8rem;border-radius:22px;
      background:linear-gradient(135deg,rgba(255,255,255,.95),rgba(233,230,255,.9));
      border:1px solid rgba(239,234,255,.9);box-shadow:0 18px 40px rgba(77,45,147,.12);
    }
    .feedback-summary .summary-score{
      font-size:clamp(2.4rem,2vw + 1.6rem,3.3rem);font-weight:900;color:#1e0a47;line-height:1;
    }
    .feedback-summary .summary-caption{margin:.35rem 0 0;color:#6f69aa;font-weight:600;}
    .summary-stars{
      display:flex;gap:.25rem;font-size:1.25rem;color:#ffd86b;margin-top:.4rem;
    }
    .summary-stars .star,
    .feedback-card-stars .star{display:inline-block;opacity:.3;}
    .summary-stars .star.filled,
    .feedback-card-stars .star.filled{opacity:1;}
    .summary-meta{
      display:flex;gap:2rem;flex-wrap:wrap;
    }
    .summary-meta div{display:flex;flex-direction:column;gap:.2rem;}
    .summary-meta .meta-label{font-size:.85rem;font-weight:700;color:#7c74b3;text-transform:uppercase;letter-spacing:.05em;}
    .summary-meta .meta-value{font-size:1.6rem;font-weight:900;color:#2b2468;}
    .feedback-list{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:var(--s-2);
    }
    .feedback-card{
      background:linear-gradient(160deg,#ffffff,rgba(248,245,255,.96));
      border:1px solid #efeaff;border-radius:20px;padding:1.4rem;
      box-shadow:0 16px 32px rgba(57,18,97,.08);
      display:flex;flex-direction:column;gap:.4rem;
    }
    .feedback-card header{display:flex;align-items:center;gap:1rem;}
    .feedback-avatar{
      width:52px;height:52px;border-radius:16px;
      background:linear-gradient(135deg,#6c47ff,#ff8ede);color:#fff;font-weight:900;
      display:inline-flex;align-items:center;justify-content:center;font-size:1.05rem;
      box-shadow:0 12px 32px rgba(108,71,255,.35);
    }
    .feedback-meta{display:flex;flex-direction:column;gap:.15rem;}
    .feedback-name{margin:0;font-size:1.05rem;font-weight:800;color:#1e0a47;}
    .feedback-date{margin:0;color:#7c74b3;font-size:.9rem;}
    .feedback-card-stars{
      margin-left:auto;display:flex;gap:.2rem;color:#ffd86b;font-size:1rem;
    }
    .feedback-message{margin:.5rem 0 0;color:#4a417a;line-height:1.6;font-size:1rem;}
    .feedback-empty{margin:0;color:#7c74b3;font-weight:700;}
    @media (max-width:980px){
      .order-hero{grid-template-columns:1fr;justify-items:center;text-align:center;}
      .order-hero .illustration{justify-self:center;}
      .order-hero h1{font-size:clamp(2.2rem,4.2vw,3rem);}
      .order-price{margin-inline:auto;align-items:center;text-align:center;}
      .order-hero .order-badges{justify-content:center;}
      .form-actions{justify-content:flex-start;}
      .feedback-summary{flex-direction:column;align-items:flex-start;}
      .summary-meta{justify-content:flex-start;}
    }
    @media (max-width:680px){
      .form-grid{grid-template-columns:1fr;}
      .section-head{flex-direction:column;align-items:flex-start;}
      .rating-stars{width:100%;justify-content:space-between;}
    }
    @media (max-width:400px){
      .order-price{padding:.7rem .85rem .8rem;max-width:100%;}
      .order-price .amount{flex-wrap:wrap;justify-content:center;text-align:center;gap:.25rem;}
      .order-price .amount-prefix{font-size:.95rem;}
      .order-price .amount-value{font-size:1.9rem;}
      .order-price .tagline{white-space:normal;text-align:center;font-size:.92rem;}
    }
  </style>
</head>
<body class="about-wrap order-wrap">
  <canvas id="stars"></canvas><canvas id="stars2"></canvas><canvas id="stars3"></canvas>
  <div class="scanline"></div>
  <div class="order-aurora" aria-hidden="true"></div>

  <nav>
    <div class="nav-left">
      <div class="logo">
        <a href="Homepage.html" aria-label="Catchy home">
          <img src="assets/images/branding/logo.png" alt="Catchy logo">
        </a>
      </div>
      <div class="nav-links">
        <a href="Homepage.html">Home</a>
        <a href="about.html">About</a>
        <a href="order.html">Order</a>
        <a href="feedback.html" aria-current="page">Feedback</a>
        <a href="index.html">Cards</a>
        <a href="assets/docs/How_to_play_catchy.pdf" target="_blank" rel="noopener noreferrer">How to Play</a>
        <a href="assets/docs/How_to_play_catchy.pdf" download>Downloads</a>
      </div>
    </div>
    <button class="hamburger" aria-label="Menu" aria-expanded="false"><span></span><span></span><span></span></button>
  </nav>

  <main class="order-container">
    <section class="section glow-section order-hero" data-aos="fade-up">
      <div>
        <p class="eyebrow" style="font-weight:900;letter-spacing:.2em;text-transform:uppercase;color:rgba(255,255,255,.78);margin:0;">Customer love</p>
        <h1>What are customers saying about Catchy?</h1>
        <p>
          We collect honest feedback from parents, English centers, and players nationwide.
          Every testimonial is stored directly in Firebase so you always see the brightest stars backing Catchy.
        </p>
        <div class="order-price rating-highlight">
          <span class="amount">
            <span class="amount-prefix">Average score</span>
            <span class="amount-value" id="heroRatingValue">5.0 ★</span>
          </span>
          <div class="summary-stars hero-stars" id="heroStars" aria-label="Average rating 5 out of 5 stars">
            <span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span>
          </div>
          <span class="tagline" id="heroRatingCount">0 reviews submitted</span>
        </div>
        <div class="order-badges">
          <span class="badge">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <polygon points="12 2 15 8.5 22 9.3 17 14 18.4 21 12 17.8 5.6 21 7 14 2 9.3 9 8.5 12 2"></polygon>
            </svg>
            4.9/5 from English centers
          </span>
          <span class="badge">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="8.5" cy="7" r="4"></circle>
              <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            2,000+ active players
          </span>
          <span class="badge">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M4 12h1"></path>
              <path d="M9 12h1"></path>
              <path d="M14 12h1"></path>
              <path d="M19 12h1"></path>
              <path d="M5 12a2 2 0 0 1 4 0"></path>
              <path d="M10 12a2 2 0 0 1 4 0"></path>
              <path d="M15 12a2 2 0 0 1 4 0"></path>
            </svg>
            Realtime updates from Firebase
          </span>
        </div>
      </div>
      <div class="illustration" aria-hidden="true">
        <img src="assets/images/hero/product.png" alt="Catchy card illustration">
      </div>
    </section>

    <section class="section order-form-section" data-aos="fade-up">
      <div class="section-head">
        <h3>Share your experience</h3>
        <small>Takes about 60 seconds</small>
      </div>
      <div class="section-body">
        <form id="feedbackForm" class="order-form" novalidate>
          <div class="form-grid">
            <div class="form-field">
              <label for="feedbackName">Display name *</label>
              <input id="feedbackName" name="fullName" type="text" required autocomplete="name" placeholder="Example: Ms. Lan - Edu House">
            </div>
            <div class="form-field">
              <label for="feedbackEmail">Email <span class="optional">(optional)</span></label>
              <input id="feedbackEmail" name="email" type="email" autocomplete="email" placeholder="you@example.com">
            </div>
          </div>
          <div class="form-field rating-field">
            <label for="ratingValue">Star rating *</label>
            <div class="rating-stars" role="radiogroup" aria-label="Select number of stars">
              <button type="button" data-value="1" aria-label="1 star - Needs improvement" role="radio" aria-checked="false">★</button>
              <button type="button" data-value="2" aria-label="2 stars - Okay" role="radio" aria-checked="false">★</button>
              <button type="button" data-value="3" aria-label="3 stars - Pretty good" role="radio" aria-checked="false">★</button>
              <button type="button" data-value="4" aria-label="4 stars - Very happy" role="radio" aria-checked="false">★</button>
              <button type="button" data-value="5" aria-label="5 stars - Excellent" role="radio" aria-checked="true">★</button>
            </div>
            <input type="hidden" id="ratingValue" name="rating" value="5">
            <p class="rating-hint" id="ratingHint">You selected 5 stars</p>
          </div>
          <div class="form-field">
            <label for="feedbackMessage">What do you love most? *</label>
            <textarea id="feedbackMessage" name="message" rows="4" required placeholder="Catchy makes our speaking class more lively..."></textarea>
          </div>
          <div class="honeypot-field" aria-hidden="true">
            <label for="feedbackNotes">Notes</label>
            <input id="feedbackNotes" name="notes" type="text" tabindex="-1" autocomplete="off" data-honeypot>
          </div>
          <p class="form-note">
            Your feedback will appear below alongside the Catchy community. We only show your name and message.
          </p>
          <div class="form-actions">
            <button type="submit" class="order-submit">Send feedback</button>
          </div>
          <div class="form-alert" id="feedbackAlert" role="status" aria-live="polite"></div>
        </form>
      </div>
    </section>

    <section class="section" data-aos="fade-up">
      <div class="section-head">
        <h3>What customers say</h3>
        <small>Realtime updates from Firebase</small>
      </div>
      <div class="section-body feedback-wall">
        <div class="feedback-summary">
          <div>
            <div class="summary-score" id="feedbackScore">5.0</div>
            <div class="summary-stars" id="feedbackSummaryStars" aria-label="Average rating 5 out of 5 stars">
              <span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span><span class="star filled">★</span>
            </div>
            <p class="summary-caption" id="feedbackSummaryCaption">No reviews yet. Be the first to share!</p>
          </div>
          <div class="summary-meta">
            <div>
              <span class="meta-label">Submissions</span>
              <span class="meta-value" id="feedbackCount">0</span>
            </div>
            <div>
              <span class="meta-label">4-5 star share</span>
              <span class="meta-value" id="positiveShare">0%</span>
            </div>
          </div>
        </div>
        <div class="feedback-list" id="feedbackList" aria-live="polite" aria-label="Latest feedback list">
          <p class="feedback-empty">Loading the latest feedback...</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    &copy; 2025 English Boardgame | Contact:
    <a href="mailto:catchyboardgame@gmail.com" style="color:#ffd973;text-decoration:none">catchyboardgame@gmail.com</a>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script>
    (function(){
      const encodedConfig = 'eyJhcGlLZXkiOiJBSXphU3lDalQ0a2d0cjdzVFNsZ3lmQ3V2R3h0akdFX2JUMEhIWVEiLCJhdXRoRG9tYWluIjoiYm9hcmRnYW1lb3JkZXItODgwNmUuZmlyZWJhc2VhcHAuY29tIiwicHJvamVjdElkIjoiYm9hcmRnYW1lb3JkZXItODgwNmUiLCJzdG9yYWdlQnVja2V0IjoiYm9hcmRnYW1lb3JkZXItODgwNmUuZmlyZWJhc2VzdG9yYWdlLmFwcCIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiNDgwMDUxOTYyODEyIiwiYXBwSWQiOiIxOjQ4MDA1MTk2MjgxMjp3ZWI6YTBlODBkMDBhMGY5M2QzMWQ1NDFiOSIsIm1lYXN1cmVtZW50SWQiOiJHLU1YS1lOUjJIVjkifQ==';
      try{
        window.CATCHY_FIREBASE_CONFIG = window.CATCHY_FIREBASE_CONFIG || JSON.parse(atob(encodedConfig));
      }catch(err){
        console.error('Unable to decode Firebase config', err);
      }
    })();
  </script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="scripts/feedback.js"></script>
</body>
</html>
